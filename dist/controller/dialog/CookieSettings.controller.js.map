{"version":3,"file":"CookieSettings.controller.js","names":["DialogController","_interopRequireDefault","__DialogController","CookieSettings","extend","onBeforeShow","_onBeforeShow","viewController","dialog","resolve","data","_this","this","fragment","attachEventOnce","setCookie","onAccept","_onAccept","event","close","gtag","ad_storage","ad_user_data","ad_personalization","analytics_storage","onReject","_onReject"],"sources":["CookieSettings.controller.ts"],"sourcesContent":["import DialogController from \"../Dialog.controller\";\nimport { frag } from \"../Base.controller\";\nimport Popover from \"sap/m/Popover\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport Dialog from \"sap/m/Dialog\";\nimport AppController from \"../App.controller\";\nimport Text from \"sap/m/Text\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport SimpleType from \"sap/ui/model/SimpleType\";\nimport ValidateException from \"sap/ui/model/ValidateException\";\nimport Input from \"sap/m/Input\";\nimport PropertyBinding from \"sap/ui/model/PropertyBinding\";\nimport JSONPropertyBinding from \"sap/ui/model/json/JSONPropertyBinding\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport Value from \"sap/makit/Value\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Icon from \"sap/ui/core/Icon\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport App from \"../App.controller\";\ntype data = {\n};\n/**\n * @namespace be.wl.lemtech.wouter.controller.dialog\n */\nexport default class CookieSettings extends DialogController {\n\tprivate data: data;\n\tprivate resolve: (value: unknown) => void;\n\tpublic onBeforeShow(viewController: AppController, dialog: frag, resolve: (value: unknown) => void, data: data): void {\n\t\tthis.dialog = dialog;\n\t\tthis.viewController = viewController;\n\t\tthis.data = data;\n\t\tthis.resolve = resolve;\t\t\n\t\tthis.dialog.fragment.attachEventOnce(\"afterClose\", ()=>(this.viewController as App).setCookie(\"approval_requested\",\"1\"));\n\t}\n\n\tpublic onAccept(event?: UI5Event): void {\n\t\t(this.dialog.fragment as Dialog).close();\n\t\tgtag('consent', 'update', {\n\t\t\t'ad_storage': 'granted',\n\t\t\t'ad_user_data': 'granted',\n\t\t\t'ad_personalization': 'granted',\n\t\t\t'analytics_storage': 'granted'\n\t\t  });\n\t\tthis.resolve(true);\n\t}\n\n\tpublic onReject(event?: UI5Event): void {\n\t\t(this.dialog.fragment as Dialog).close();\n\t\t\n\t\tthis.resolve(false);\n\t}\n}"],"mappings":"kKAAOA,EAAgBC,EAAAC,GAuBvB,IAGqBC,EAAuBH,EAAgBI,OAAA,yDAGpDC,aAAY,SAAAC,EAACC,EAA+BC,EAAcC,EAAmCC,GAAkB,IAAAC,EAAAC,KACrHA,KAAKJ,OAASA,EACdI,KAAKL,eAAiBA,EACtBK,KAAKF,KAAOA,EACZE,KAAKH,QAAUA,EACfG,KAAKJ,OAAOK,SAASC,gBAAgB,aAAc,kBAAKH,EAAKJ,eAAuBQ,UAAU,qBAAqB,IAAI,EACxH,EAEOC,SAAQ,SAAAC,EAACC,GACdN,KAAKJ,OAAOK,SAAoBM,QACjCC,KAAK,UAAW,SAAU,CACzBC,WAAc,UACdC,aAAgB,UAChBC,mBAAsB,UACtBC,kBAAqB,YAEtBZ,KAAKH,QAAQ,KACd,EAEOgB,SAAQ,SAAAC,EAACR,GACdN,KAAKJ,OAAOK,SAAoBM,QAEjCP,KAAKH,QAAQ,MACd,IAAC,OA1BmBN,CAAc"}