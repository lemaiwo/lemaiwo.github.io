{"version":3,"file":"App-dbg.controller.js","names":["Controller","_interopRequireDefault","__Controller","App","extend","onInit","_onInit","_this$getView","_this","darkMode","getCookieValue","getView","setModel","JSONModel","lightMode","selectedTab","_temp","Promise","resolve","openFragment","name","data","then","_this$openFragment","cookieResult","setCookie","e","reject","onInfo","_onInfo","topic","_this2","_this2$openFragment","closeResult","navigateToSection","_navigateToSection","event","key","getParameter","_event$getParameter","_expandButtonPress","getRouter","navTo","_getRouter","UIComponent","getRouterFor","onSwitchTheme","_onSwitchTheme","_this$getView2","appModel","getModel","ligthMode","getProperty","sap","ui","getCore","applyTheme","setProperty","_setCookie","cookieName","value","expiresDate","date","Date","setTime","getTime","toUTCString","document","cookie","_getCookieValue","cookies","split","_iterator","_createForOfIteratorHelper","_step","s","n","done","trim","indexOf","substring","length","err","f"],"sources":["App.controller.ts"],"sourcesContent":["import { IconTabHeader$SelectEvent } from \"sap/m/IconTabHeader\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport Controller from \"./Base.controller\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\n/**\n * @namespace be.wl.lemtech.wouter.controller\n */\nexport default class App extends Controller {\n\n    /*eslint-disable @typescript-eslint/no-empty-function*/\n    public async onInit() {\n        const darkMode = (this.getCookieValue(\"mode\") || \"sap_horizon\") === \"sap_horizon_dark\"?true:false;\n        this.getView()?.setModel(new JSONModel({ lightMode: !darkMode, darkMode: darkMode, selectedTab: \"home\" }), \"app\");\n        \n        if (this.getCookieValue(\"approval_requested\") !== \"1\") {\n            const cookieResult = (await this.openFragment({\n                name: \"be.wl.lemtech.wouter.view.dialog.CookieSettings\",\n                data: {}\n            })) as string;\n            this.setCookie(\"allow_required_cookies\",cookieResult);\n        }\n    }\n\tpublic async onInfo(topic: string) {\n\t\tconst closeResult = (await this.openFragment({\n\t\t\tname: \"be.wl.lemtech.wouter.view.dialog.Info\"\n\t\t})) as string;\n\t}\n    public navigateToSection(event: IconTabHeader$SelectEvent) {\n        const key = event.getParameter(\"key\");\n        if (key === \"help\") {\n            event?.getParameter(\"item\")?._expandButtonPress()\n        } else {\n            this.getRouter().navTo(key!);\n        }\n    }\n    protected getRouter() {\n        return UIComponent.getRouterFor(this);\n    }\n    private onSwitchTheme() {\n        const appModel = (this.getView()?.getModel(\"app\") as JSONModel);\n        let ligthMode = appModel.getProperty(\"/lightMode\");\n        let darkMode = appModel.getProperty(\"/darkMode\");\n\n        if (ligthMode) {\n            ligthMode = false;\n            darkMode = true;\n            sap.ui.getCore().applyTheme(\"sap_horizon_dark\");\n            this.setCookie(\"mode\",\"sap_horizon_dark\");\n        } else {\n            ligthMode = true;\n            darkMode = false;\n            sap.ui.getCore().applyTheme(\"sap_horizon\");\n            this.setCookie(\"mode\",\"sap_horizon\");\n        }\n        appModel.setProperty(\"/lightMode\", ligthMode);\n        appModel.setProperty(\"/darkMode\", darkMode);\n    }\n    public setCookie(cookieName: string, value: string) {\n        let expiresDate,\n            date = new Date();\n\n        date.setTime(date.getTime() + (356 * 24 * 60 * 60 * 1000)); // one year\n        expiresDate = \"expires=\" + date.toUTCString();\n\n        document.cookie = cookieName + \"=\" + value + \";\" + expiresDate + \";path=/\";\n    }\n    private getCookieValue(cookieName: string) {\n        const cookies = document.cookie.split(\";\");\n\n        // eslint-disable-next-line no-param-reassign\n        cookieName = cookieName + \"=\";\n        for (let cookie of cookies) {\n            cookie = cookie.trim();\n            if (cookie.indexOf(cookieName) === 0) {\n                return cookie.substring(cookieName.length, cookie.length);\n            }\n        }\n        return false;\n    }\n}"],"mappings":"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","ignoreList":[]}